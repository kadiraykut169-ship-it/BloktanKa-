<!DOCTYPE html>
<html>
<head>
  <title>Düşen Bloklardan Kaç</title>
  <style>
    body { background: #333; text-align: center; }
    canvas { background: white; display: block; margin: auto; }
  </style>
</head>
<body>
<canvas id="game" width="400" height="600"></canvas>
<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let player = {x:180, y:550, w:40, h:40, color:"blue"};
let blocks = [];
let gameOver = false;
let score = 0;
let speed = 3;

document.addEventListener("keydown", e=>{
  if(e.key==="ArrowLeft" && player.x>0) player.x -= 20;
  if(e.key==="ArrowRight" && player.x+player.w<canvas.width) player.x += 20;
});

function spawnBlock(){
  let x = Math.floor(Math.random()*360);
  blocks.push({x:x, y:0, w:40, h:40});
}

function update(){
  if(gameOver){
    ctx.fillStyle="black";
    ctx.font="40px Arial";
    ctx.fillText("Game Over!", 100, 300);
    ctx.font="20px Arial";
    ctx.fillText("Skor: " + score, 150, 350);
    return;
  }

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Oyuncu çiz
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.w, player.h);

  // Blokları çiz ve hareket ettir
  ctx.fillStyle = "red";
  for(let i=0;i<blocks.length;i++){
    let b = blocks[i];
    b.y += speed;
    ctx.fillRect(b.x,b.y,b.w,b.h);

    // Çarpışma kontrol
    if(player.x < b.x+b.w && player.x+player.w > b.x &&
       player.y < b.y+b.h && player.y+player.h > b.y){
      gameOver = true;
    }
  }

  // Blokları temizle
  blocks = blocks.filter(b=>b.y<canvas.height);

  // Skor
  score++;
  ctx.fillStyle="black";
  ctx.font="20px Arial";
  ctx.fillText("Skor: " + score, 10, 30);

  requestAnimationFrame(update);
}

// Blok üret
setInterval(spawnBlock, 1000);
update();
</script>
</body>

</html>
